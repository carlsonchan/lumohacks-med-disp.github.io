<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>Medical Dispenser | Lumohacks 2016</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="stylesheets/jquery-ui.min.css" media="screen" title="no title">
  <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
  <link rel="shortcut icon" type="image/png" href="./stylesheets/images/favicon.png">

  <script src="./js/jquery-3.1.0.min.js" type="text/javascript"></script>
  <script src="./js/jquery-ui.min.js" charset="utf-8"></script>
  <script src="./js/bootstrap.min.js"></script>
  <script src="./js/script.js" type="text/javascript"></script>
</head>

<body>
  <div class="page-header">
    <h1 class="project-name">Medical Dispenser Dashboard</h1>
    <h2 class="project-tagline">Medical History, Personal Info, Dosage Usage</h2>
  </div>

  <div class="container" id="tabs" align="center">
    <ul class="tabs group">
      <li><a href="#about">About</a></li>
      <li><a href="#container-people">Patients</a></li>
    </ul>
    <div id="about" class="tabbed" align="left">
      <p>
        <b>Medical Dispenser</b> is a project created September 17-18, 2016 for <em><a href="http://lumohacks.com/">Lumohacks</a></em>, a cancer-centric hackathon.
      </p>
      <h1>Creators and Source Code</h1>
      <p>
        The creators of this project are <a href="https://github.com/Brad1321">Bradley Dalrymple</a>, <a href="https://github.com/jleung51">Jeffrey Leung</a>, <a href="https://github.com/carlsonchan">Carlson Chan</a>, <a href="https://github.com/KieranMcCormick">Kieran McCormick</a>, and <a href="https://github.com/eul721">Jack Chao</a>.
      </p>
      <p>
        The GitHub organization containing all the code written for this project is <em><a href="https://github.com/lumohacks-med-disp">lumohacks-med-disp</a></em>.
      </p>
      <p style="text-align:center;">
        <img src="assets/04-group-photo.png" width="50%">
      </p>
      <h1>Vision</h1>
      <p>
        Cancer is an arduous ordeal, not only for the patient but also for their family, their friends, and the medical staff who attend to them. It is made no easier by the fact that sensitive medications such as painkillers must often be dispensed by trained medical professionals so that the dosages given are constant and carefully regulated, and this requires that both the patients and their medication be supervised by medical staff. This issue may impart upon the patient a feeling of loss of control, as they cannot go home with their medicine and must be supervised closely, and will also require valuable time and attention of medical staff.
      </p>
      <p>
        We envisioned a solution allowing patients to receive their medicine through a device which they could bring home and use easily, which would give the patient and their family significantly greater control and peace of mind. The patient's doctor would have the ability to remotely configure the dosage and scheduling of their patients' medications as necessary, so the dispensals would be regulated with little to no effort on the part of the patient or the medical professionals.
      </p>
      <h1>Solution and Implementation</h1>
      <p>
        As our response to this issue, we designed, architected, and implemented a fully-working prototype with a complete full-stack solution consisting of a dynamic webpage, an online database, and a custom-built, partially 3-d printed hardware medicine dispenser.
      </p>
      <p style="text-align:center;">
        <img src="assets/03-judging.png" width="50%">
      </p>
      <h2>Web Application</h2>
      <p>
        In order to give doctors the ability to configure and reschedule a patient's dosages we created a web application designed to be quick, intuitive, and easy to use. In the application, each patient is identified by their <em>patient ID</em>, an arbitrary and unique value. The medical history and number of current medications is displayed for context. Each medication currently prescribed to a given patient is described with its name, pills per dosage, dosages per day, and next dosage dispensal time, and the doctor can freely configure the values for the pills per dosage and dosages per day.
      </p>
      <p>
        Click the <em>Patients</em> tab above to use the live web application. The time until the next dosage dispensal is only usable in an accurate fashion when paired with the running dispenser program, so this feature is not currently functional.
      </p>
      <p>
        You can see the source code for this page at <a href="https://github.com/lumohacks-med-disp/lumohacks-med-disp.github.io">this link</a>.
      </p>
      <h2>Database</h2>
      <p style="text-align:center;">
        <a href="http://firebase.google.com/" target="_blank">
          <img src="https://1.bp.blogspot.com/-YIfQT6q8ZM4/Vzyq5z1B8HI/AAAAAAAAAAc/UmWSSMLKtKgtH7CACElUp12zXkrPK5UoACLcB/s1600/image00.png" alt="Google Firebase logo" width="50%">
        </a>
      </p>
      <p>
        To share patient data from the web application to the dispenser, we used a <a href="http://firebase.google.com/">Google Firebase</a> database. This allowed us significant control over the structure and type of data that we could use and manipulate. You can view the raw data in JSON form by clicking <a href="https://lumohacks-med-disp.firebaseio.com/patients.json">here</a>, and our instructions for how to set up the database from scratch are described <a href="https://github.com/lumohacks-med-disp/firebase-configuration">here</a>.
      </p>
      <h2>Dispenser (Hardware)</h2>
      <p>
        To build our dispenser, we utilized a Raspberry Pi 2 computer, a servo motor, a speaker, a switch, and two LEDs. You can find the circuit schematic <a href="https://github.com/lumohacks-med-disp/dispenser">here</a>.
      </p>
      <p style="text-align:center;">
        <img src="assets/01-final.png" width="50%">
      </p>
      <p>
        Constructing the physical dispenser proved to be one of the most challenging tasks of the project. We designed 4 pieces as the core of the dispenser mechanism and created 3-D STL models for them (available <a href="https://github.com/lumohacks-med-disp/casing-and-collector">here on GitHub</a>), which we printed during the hackathon with the help of <a href="http://galliumacademy.com/">Gallium Academy</a>. After almost half a day of experimenting, failing, and learning, we were able to construct a sturdy model to demo at the presentation. Our build allows pills of various size to be fed into a rotating holder from a standard-size pill bottle and dispensed by a precise 180Â° rotation by the servo motor.
      </p>
      <p style="text-align:center;">
        <img src="assets/02-3d-printed.png" width="50%">
      </p>
      <p>
        We provided two LEDs and a speaker as auxiliary components. The purpose of one of the LEDs is to display the on/off status of the system, while the other LED and the speaker are used to alert the user that a dispensal is ready. As an emergency measure, we also provided a button which the patient can press to dispense their usual dosage, in case of a failure or disconnection in the system.
      </p>
      <h1>Final Product</h1>
      <p>
        Below is a demonstration where we set a dosage of two pills (two dispensals by the machine):
      </p>
      <p style="text-align:center;">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/W_3IoVngQTA" frameborder="0" allowfullscreen></iframe>
      </p>
      <h4>Disclaimer</h4>
      <p>
        This <em>About</em> page was created after the hackathon's completion.
      </p>
      </ul>
    </div>
    <div id="container-people" class="tabbed">
      <h3 align="center"></h3>
      <h4>Learn more about the patient by clicking on their patient ID, Name or Number of medications.<br/></br>
        You can easily adjust the patient's medication dosage by adjusting the quantity.<br/><br/></h4>
        <div class="panel-group">
          <div class="panel panel-default">
            <div>
              <table border="1" id="patient_data">
                <tbody>
                  <tr class="top-label">
                    <th>Patient ID</th>
                    <th>Name</th>
                    <th>Number of medications</th>
                  </tr>
                  <tr class="panel-heading patient-row" id="dummy-patient-row"
                  data-toggle="collapse" href="#collapse" aria-expanded="false"
                  aria-controls="collapse1">
                  <td class="patient-id"></td>
                  <td class="patient-name"></td>
                  <td class="patient-nMedication"></td>
                </tr>

                <tr class="hidden-row" id="dummy-hidden-row">
                  <td colspan="6">
                    <div class="panel-collapse collapse" id="collapse">
                      <div class="panel-body">
                        <table border="1" class="patient-subdata">
                          <tbody>
                            <tr>
                              <td colspan="3">
                                <h3>Medical History</h3>
                                <ul>
                                  <li>Cold</li>
                                  <li>Chicken pox</li>
                                </ul>
                              </td>
                            </tr>
                            <tr>
                              <td colspan="3">
                                <h3>List of medication dosage</h3>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <h4>Hydrocodone</h4>
                              </td>
                              <td>
                                <h4>Current pill per dosage is: <span class="p-dosage"></span></h4>
                                <form>
                                  Quantity:
                                  <input type="number" name="dosage" class="pillDosageInput" min="1" max="5">
                                  <br />
                                  <button type="button" class="btn btn-primary pillDosageDispense" >Update</button>
                                </form>
                              </td>
                              <td>
                                <h4>Current dosage per day: <span class="n-dosage"></span></h4>
                                <form>
                                  Quantity:
                                  <input type="number" name="dosage" class="dosageInput" min="0">
                                  <br />
                                  <button type="button" class="btn btn-primary dosageDispense" >Update</button>
                                </form>
                              </td>
                              <td>
                                <h4>Next dosage in (sec) : <span class="next-dosage"></span></h4>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
